Kotlin には **Nested Classes**（ネストされたクラス）と **Inner Classes**（インナー・クラス）という 2 つのクラスがあります。これらの違いは、外部クラスとの関係とインスタンス化の仕方にあります。それぞれの特徴を説明します。

------

### **1. Nested Classes（ネストされたクラス）**

- **外部クラスとの関係**: `nested` クラスは、外部クラスのインスタンスにアクセスできない静的なクラスです。
- **インスタンス化**: 外部クラスのインスタンスを持つ必要がなく、単独でインスタンス化できます。

#### **例: Nested class の使用例**

```kotlin
class Outer {
    // Nested class は外部クラスのインスタンスにアクセスできません
    class Nested {
        fun sayHello() {
            println("こんにちは、私はネストされたクラスです")
        }
    }
}

fun main() {
    // Nested クラスは外部クラスのインスタンスなしでインスタンス化できます
    val nested = Outer.Nested()
    nested.sayHello()
}
```

- 特徴

  :

  - `Nested` クラスは、`Outer` クラスのインスタンスに依存しません。
  - `Nested` クラスは外部クラスのメンバーにアクセスできないため、完全に独立したクラスとして動作します。

------

### **2. Inner Classes（インナー・クラス）**

- **外部クラスとの関係**: `inner` クラスは、外部クラスのインスタンスにアクセスできるクラスです。`inner` キーワードを使って、外部クラスのインスタンスに依存することを示します。
- **インスタンス化**: `inner` クラスは、外部クラスのインスタンスを持たないとインスタンス化できません。つまり、`outer` クラスのインスタンスと一緒に作成する必要があります。

#### **例: Inner class の使用例**

```kotlin
class Outer {
    val outerProperty = "外部クラスのプロパティ"
    
    // Inner クラスは外部クラスのインスタンスにアクセスできる
    inner class Inner {
        fun sayHello() {
            println("こんにちは、私はインナー・クラスです。外部クラスのプロパティ: $outerProperty")
        }
    }
}

fun main() {
    val outer = Outer() // Outer クラスのインスタンスを作成
    val inner = outer.Inner() // Inner クラスのインスタンスは外部クラスのインスタンスから作成
    inner.sayHello()
}
```

- 特徴

  :

  - `Inner` クラスは、外部クラス `Outer` のインスタンス（`outer`）にアクセスできる。
  - `outerProperty` のような外部クラスのプロパティにもアクセスできる。

------

### **ネストされたクラス vs インナー・クラスの違い**

| 特徴                                     | **Nested class**                                             | **Inner class**                      |
| ---------------------------------------- | ------------------------------------------------------------ | ------------------------------------ |
| **外部クラスのインスタンスへのアクセス** | できない                                                     | できる                               |
| **インスタンス化**                       | 外部クラスのインスタンスなしで可能                           | 外部クラスのインスタンスを通じて作成 |
| **使用シーン**                           | 外部クラスのインスタンスに依存しないユーティリティ的なクラス | 外部クラスの状態に依存するクラス     |

------

### **まとめ**

- **Nested class** は外部クラスのインスタンスを必要とせず、独立したクラスです。
- **Inner class** は外部クラスのインスタンスにアクセスでき、その状態に依存して動作するクラスです。

使い分けとしては、`nested class` は外部クラスの状態に依存しない場合、`inner class` は外部クラスのプロパティやメソッドにアクセスしたい場合に使うのが一般的です。